from pybricks.pupdevices import ColorSensor
from pybricks.parameters import Port, Color
from pybricks.tools import wait

# Initialize the sensor.
bottom_sensor = ColorSensor(Port.E)  # this is bottom sesor
front_sensor = ColorSensor(Port.F)  # this is front sensor


def scan_colors(sensor):
    # Repeat forever.
    while True:

        # Get the ambient color values. Instead of scanning the color of a surface,
        # this lets you scan the color of light sources like lamps or screens.
        hsv = sensor.hsv(surface=True)
        color = sensor.color(surface=True)

        # Get the ambient light intensity.
        ambient = sensor.ambient()

        # Print the measurements.
        print(str(hsv), str(color), ambient)

        # Point the sensor at a computer screen or colored light. Watch the color.
        # Also, cover the sensor with your hands and watch the ambient value.

        # Wait so we can read the printed line
        wait(500)


def check_colors(sensor):
    # First, decide which objects you want to detect, and measure their HSV values.
    # You can do that with the hsv() method as shown in the previous example.
    #
    # Use your measurements to override the default colors, or add new colors:
    Color.GREEN = Color(h=155, s=72, v=48)
    Color.MAGENTA = Color(h=339, s=79, v=70)
    # Color.BROWN = Color(h=17, s=78, v=15)
    Color.RED = Color(h=352, s=88, v=80)
    Color.ORANGE = Color(h=9, s=84, v=99)
    Color.BLUE = Color(h=217, s=88, v=69)
    Color.BLACK = Color(h=240, s=5, v=24)
    Color.YELLOW = Color(h=52, s=71, v=100)
    Color.WHITE = Color(h=0, s=0, v=100)

    # Put your colors in a list or tuple.
    my_colors = (
        Color.GREEN,
        Color.MAGENTA,
        Color.RED,
        Color.ORANGE,
        Color.BLUE,
        Color.BLACK,
        Color.WHITE,
        Color.NONE,
    )

    # Save your colors.
    sensor.detectable_colors(my_colors)

    # color() works as usual, but now it returns one of your specified colors.
    while True:
        color = sensor.color()

        # Print the color.
        # print(color)

        # Check which one it is.
        if color == Color.GREEN:
            print("GREEN")
        if color == Color.MAGENTA:
            print("MAGENTA")
        if color == Color.WHITE:
            print("WHITE")
        if color == Color.RED:
            print("RED")
        if color == Color.YELLOW:
            print("YELLOW")
        if color == Color.BLACK:
            print("BLACK")
        if color == Color.ORANGE:
            print("ORANGE")
        if color == Color.BLUE:
            print("BLUE")

        # Wait so


# scan_colors(front_sensor)
check_colors(front_sensor)
